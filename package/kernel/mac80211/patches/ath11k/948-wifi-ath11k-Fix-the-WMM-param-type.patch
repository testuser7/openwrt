From c420c1f66235b5ab4fc8d94da72bd5ae6397117f Mon Sep 17 00:00:00 2001
From: Gautham Kumar Senthilkumaran <gauthamk@qti.qualcomm.com>
Date: Sat, 28 Jun 2025 11:58:37 +0530
Subject: [PATCH] QSDK:CP: wifi:ath11k: Fix the WMM param type

Since FW does not support the 11ax EDCA parameter in WMI TLV command. FW was
crashing as host was sending this parameter, now changed the WMM parameter
type as default zero before sending to FW.

Signed-off-by: Gautham Kumar Senthilkumaran <gauthamk@qti.qualcomm.com>

--- a/drivers/net/wireless/ath/ath11k/wmi.c
+++ b/drivers/net/wireless/ath/ath11k/wmi.c
@@ -2682,7 +2682,7 @@ int ath11k_wmi_send_wmm_update_cmd_tlv(s
 			  FIELD_PREP(WMI_TLV_LEN, sizeof(*cmd) - TLV_HDR_SIZE);
 
 	cmd->vdev_id = vdev_id;
-	cmd->wmm_param_type = wmm_param_type;
+	cmd->wmm_param_type = WMI_WMM_PARAM_TYPE_LEGACY;
 
 	for (ac = 0; ac < WME_NUM_AC; ac++) {
 		switch (ac) {
